{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}
<h1>Current user: {{user.first_name}}</h1>
<form method="POST" enctype="multipart/form-data">
  <div class="custom-file">
    <input
      type="file"
      class="custom-file-input"
      onchange="form.submit()"
      accept=".csv, .tsv"
      id="file"
      name="file"
    />
    <label class="custom-file-label" for="file">Choose file</label>
  </div>

  <br />
  {% for file_content in file_contents %}
  <h3>{{file_content.file.filename}}</h3>
  <div class="btn-group">
    <label for="sortby_dropdown">Sort by:</label>
    <select id="sortby_dropdown" name="sortby_dropdown">
      {% for header in file_content.headers %} {%if header == file_content.by %}
      <option selected="selected" value="{{header}}">{{header}}</option>
      {%else%}
      <option value="{{header}}">{{header}}</option>
      {% endif %} {% endfor %}
    </select>
    <button type="submit">Sort</button>
  </div>
  <table
    id="csv_table"
    class="table table-striped table-bordered table-sm"
    cellspacing="0"
    width="100%"
  >
    <thead>
      <tr>
        <th>chrom1</th>
        <th>start1</th>
        <th>end1</th>
        <th>chrom2</th>
        <th>start2</th>
        <th>end2</th>
        <th>sample</th>
        <th>score</th>
      </tr>
    </thead>
    <tbody>
      {% for content in file_content.contents %}
      <tr>
        <td>{{content.chrom1}}</td>
        <td>{{content.start1}}</td>
        <td>{{content.end1}}</td>
        <td>{{content.chrom2}}</td>
        <td>{{content.start2}}</td>
        <td>{{content.end2}}</td>
        <td>{{content.sample}}</td>
        <td>{{content.score}}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <br />
  {% endfor %}
</form>
{% endblock%}
